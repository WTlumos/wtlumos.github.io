<!DOCTYPE html>
<html lang="zh-CN,en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wtlumos.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"gitalk":{"order":-1}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="TypeScript官网">
<meta property="og:type" content="article">
<meta property="og:title" content="TypeScript学习笔记">
<meta property="og:url" content="https://wtlumos.github.io/zh-CN/2019/10/07/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="W.T.的博客">
<meta property="og:description" content="TypeScript官网">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wtlumos.github.io/zh-CN/2019/10/07/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/tsc.png">
<meta property="article:published_time" content="2019-10-07T06:58:26.000Z">
<meta property="article:modified_time" content="2023-04-15T08:19:27.392Z">
<meta property="article:author" content="Wang Ting">
<meta property="article:tag" content="js">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wtlumos.github.io/zh-CN/2019/10/07/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/tsc.png">

<link rel="canonical" href="https://wtlumos.github.io/zh-CN/2019/10/07/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>TypeScript学习笔记 | W.T.的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">W.T.的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Every day to be a little better</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        
            
  <li class="menu-item menu-item-books">
      
    

    <a href="/books/" rel="section"><i class="fa fa-book fa-fw"></i>书单</a>

  </li>


      
        <li class="menu-item menu-item-route">
      
    

    <a href="/route/" rel="section"><i class="fas fa-route fa-fw"></i>学习路线</a>

  </li>
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-language">

    <a href="/en" rel="section"><i class="fas fa-language fa-fw"></i>English</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/WTlumos" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wtlumos.github.io/zh-CN/2019/10/07/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Wang Ting">
      <meta itemprop="description" content="技术成长笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="W.T.的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          TypeScript学习笔记
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-07 14:58:26" itemprop="dateCreated datePublished" datetime="2019-10-07T14:58:26+08:00">2019-10-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-15 16:19:27" itemprop="dateModified" datetime="2023-04-15T16:19:27+08:00">2023-04-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>37k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>34 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote class="blockquote-center"><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/zh/">TypeScript官网</a></blockquote>

<span id="more"></span>

<h1 id="基础认知">1. 基础认知</h1><h2 id="JavaScript一门优秀的语言">1.1. JavaScript一门优秀的语言</h2><ul>
<li><p>任何新技术的出现都是为了解决原有技术的某个痛点</p>
</li>
<li><p>JavaScript是一门优秀的编程语言吗?</p>
<ul>
<li>每个人可能观点并不完全一致，但是从很多角度来看，JavaScript是一门非常优秀的编程语言; </li>
<li>而且，可以说在很长一段时间内这个语言不会被代替，并且会在更多的领域被大家广泛使用;</li>
</ul>
</li>
<li><p>著名的Atwood定律</p>
<ul>
<li>Stack Overflow的创立者之一的 <strong>Jeff Atwood</strong> 在2007年提出了著名的 <strong>Atwood定律</strong></li>
<li>any application that can be written in JavaScript, will eventually be written in JavaScript</li>
<li>任何可以使用JavaScript来实现的应用都最终都会使用JavaScript实现</li>
</ul>
</li>
<li><p>这句话正在一步步被应验</p>
<ul>
<li><code>Web端</code>的开发一直都是使用JavaScript;</li>
<li><code>移动端</code>开发可以借助于ReactNative、Weex、<code>Uniapp</code>等框架实现跨平台开发; </li>
<li><code>小程序端</code>的开发也是离不开JavaScript;</li>
<li><code>桌面端</code>应用程序借助于<code>Electron</code>来开发;</li>
<li><code>服务器端</code>开发可以借助于<code>Node</code>环境使用JavaScript来开发。</li>
</ul>
</li>
</ul>
<h2 id="JavaScript的痛点">1.2. JavaScript的痛点</h2><ul>
<li><p>并且随着近几年前端领域的快速发展，让JavaScript迅速被普及和受广大开发者的喜爱，借助于JavaScript本身的 强大，也让使用JavaScript开发的人员越来越多</p>
</li>
<li><p>优秀的JavaScript没有缺点吗?</p>
<ul>
<li>其实上由于各种历史因素，JavaScript语言本身存在很多的缺点; </li>
<li>比如ES5以及之前的使用的<code>var关键字</code>关于作用域的问题;</li>
<li>比如最初JavaScript设计的数组类型并不是连续的内存空间;</li>
<li>比如直到今天JavaScript也没有加入<code>类型检测</code>这一机制;</li>
</ul>
</li>
<li><p>JavaScript正在慢慢变好</p>
<ul>
<li>不可否认的是，JavaScript正在慢慢变得越来越好，无论是从底层设计还是应用层面</li>
<li>ES6、7、8等的推出，每次都会让这门语言更加现代、更加安全、更加方便</li>
<li>但是知道今天，JavaScript在类型检测上依然是毫无进展</li>
</ul>
</li>
</ul>
<h2 id="类型带来的问题">1.3. 类型带来的问题</h2><ul>
<li><p>编程开发中有一个共识：错误出现的越早越好</p>
<ul>
<li>能在<strong>写代码的时候</strong>发现错误，就不要在<strong>代码编译时</strong>再发现（IDE的优势就是在代码编写过程中可以错误)</li>
<li>能在<strong>代码编译期间</strong>发现错误，就不要在<strong>代码运行期间</strong>再发现（类型检测就可以很好的做到这一点）</li>
<li>能在开发阶段发现错误，就不要在测试期间发现错误，能在测试期间发现错误，就不要在上线后发现错误。</li>
</ul>
</li>
<li><p>探究如何在 <strong>代码编译期间</strong> 发现代码的错误</p>
<ul>
<li>JavaScript可以做到吗?</li>
<li>不可以，来看下面这段经常可能出现的代码问题</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">Str</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确的调用</span></span><br><span class="line"><span class="title function_">getLength</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line"><span class="comment">// 错误的调用（IDE并不会报错）</span></span><br><span class="line"><span class="title function_">getLength</span>();</span><br></pre></td></tr></table></figure>

<p>出现错误❌</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/TypeScript/index.js:2</span><br><span class="line">    <span class="built_in">return</span> str.length;</span><br><span class="line">               ^</span><br><span class="line"></span><br><span class="line">TypeError: Cannot <span class="built_in">read</span> properties of undefined (reading <span class="string">&#x27;length&#x27;</span>)</span><br><span class="line">    at getLength (/TypeScript/index.js:2:16)</span><br><span class="line">    at Object.&lt;anonymous&gt; (/TypeScript/index.js:6:13)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="类型错误">1.4. 类型错误</h2><ul>
<li><p>这是有一个非常常见的错误</p>
<ul>
<li>这个错误很大的原因就是因为JavaScript没有对传入的参数进行任何的限制，只能等到运行期间才发现这个错误;</li>
<li>并且当这个错误产生时，会影响后续代码的继续执行，也就是整个项目都因为一个小小的错误而深入崩溃;</li>
</ul>
</li>
<li><p>当然，怎么可能犯这样低级的错误呢?</p>
<ul>
<li>当像上面这样的简单的demo时，这样的错误很容易避免，并且当出现错误时，也很容易检查出来;</li>
<li>但是当开发一个大型项目时呢？能保证一定不会出现这样的问题吗？</li>
<li>而且如果是调用别人的类 库，又如何知道传入的到底是什么样的参数呢?</li>
</ul>
</li>
<li><p>但是，如果可以给JavaScript加上很多限制，在开发中就可以很好的避免这样的问题了</p>
<ul>
<li>比如getLength函数中str是一个必传的类型，没有调用者没有传编译期间就会报错; </li>
<li>比如要求它的必须是一个String类型，传入其他类型就直接报错;</li>
<li>那么就可以知道很多的错误问题在编译期间就被发现，而不是等到运行时再去发现和修改;</li>
</ul>
</li>
</ul>
<h2 id="类型思维的缺失">1.5. 类型思维的缺失</h2><ul>
<li><p>简单体会了没有类型检查带来的一些问题，JavaScript因为从设计之初就没有考虑类型的约束问题，所以造成了前端开发人员关于<strong>类型思维的缺失</strong></p>
<ul>
<li>前端开发人员通常不关心变量或者参数是什么类型的，如果在必须确定类型时，往往需要使用各种判断验 证;</li>
<li>从其他方向转到前端的人员，也会因为没有类型约束，而总是担心自己的代码不安全，不够健壮;</li>
</ul>
</li>
<li><p>所以经常会说JavaScript<strong>不适合开发大型项目</strong>，因为当项目一旦庞大起来，这种宽松的类型约束会带来非常多的安全隐患，多人员开发它们之间也没有<strong>良好的类型契约</strong></p>
<ul>
<li>比如去实现一个核心类库时，如果没有类型约束，那么需要对别人传入的参数进行各种验证来保证代码的健壮性;</li>
<li>比如去调用别人的函数，对方没有对函数进行任何的注释，只能去看里面的逻辑来理解这个函数需要传入什么参数，返回值是什么类型;</li>
</ul>
</li>
</ul>
<h2 id="JavaScript添加类型约束">1.6. JavaScript添加类型约束</h2><ul>
<li><p>为了弥补JavaScript类型约束上的缺陷，增加类型约束，很多公司推出了自己的方案</p>
<ul>
<li>2014年，Facebook推出了flow来对JavaScript进行类型检查;</li>
<li>同年，Microsoft微软也推出了TypeScript1.0版本;</li>
<li>他们都致力于为JavaScript提供类型检查;</li>
</ul>
</li>
<li><p>而现在，无疑<strong>TypeScript已经完全胜出</strong></p>
<ul>
<li>Vue2.x的时候采用的就是flow来做类型检查;</li>
<li>Vue3.x已经全线转向TypeScript，98.3%使用TypeScript进行了重构;</li>
<li>而Angular在很早期就使用TypeScript进行了项目重构并且需要使用TypeScript来进行开发; </li>
<li>而甚至Facebook公司一些自己的产品也在使用TypeScript;</li>
</ul>
</li>
<li><p>学习TypeScript不仅仅可以为代码增加类型约束，而且可以培养前端程序员具备类型思维</p>
</li>
</ul>
<h2 id="认识TypeScript">1.7. 认识TypeScript</h2><ul>
<li><p>虽然已经知道TypeScript是干什么的了，也知道它解决了什么样的问题，但是还是需要全面的来认识一下TypeScript到底是什么?</p>
</li>
<li><p>TypeScript在GitHub和官方上对自己的定义</p>
<ul>
<li>GitHub说法：TypeScript is a superset of JavaScript that compiles to clean JavaScript output.</li>
<li>TypeScript官网：TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.</li>
<li>翻译一下：TypeScript是拥有类型的JavaScript超集，它可以编译成普通、干净、完整的JavaScript代码</li>
</ul>
</li>
<li><p>怎么理解上面的话呢？</p>
<ul>
<li>可以将TypeScript理解成加强版的JavaScript</li>
<li>JavaScript所拥有的特性，TypeScript全部都是支持的，并且它紧随ECMAScript的标准，所以ES6、ES7、ES8等新语法标准，它都是支持的;</li>
<li>并且在语言层面上，不仅仅增加了类型约束，而且包括一些语法的扩展，比如枚举类型(Enum)、元组类型(Tuple)等;</li>
<li>TypeScript在实现新特性的同时，总是保持和ES标准的同步甚至是领先;</li>
<li>并且TypeScript最终会被编译成JavaScript代码，所以并不需要担心它的兼容性问题，在编译时也不需要借助于Babel这样的工具; </li>
<li>所以，可以把TypeScript理解成更加强大的JavaScript，不仅让JavaScript更加安全，而且给它带来了诸多好用的特性;</li>
</ul>
</li>
</ul>
<h2 id="TypeScript的特点">1.8. TypeScript的特点</h2><ul>
<li><p>官方对TypeScript有几段特点的描述</p>
</li>
<li><p><code>始于JavaScript，归于JavaScript</code></p>
</li>
<li><p>TypeScript从今天数以百万计的JavaScript开发者所熟悉的语法和语义开始。使用现有的JavaScript代码，包括流行的JavaScript库， 并从JavaScript代码中调用TypeScript代码;</p>
</li>
<li><p>TypeScript可以编译出纯净、 简洁的JavaScript代码，并且可以运行在任何浏览器上、Node.js环境中和任何支持ECMAScript 3(或 更高版本)的JavaScript引擎中;</p>
</li>
<li><p>TypeScript是一个强大的工具，用于构建大型项目</p>
<ul>
<li>类型允许JavaScript开发者在开发JavaScript应用程序时使用高效的开发工具和常用操作比如静态检查和代码重构;</li>
<li>类型是可选的，类型推断让一些类型的注释使你的代码的静态验证有很大的不同。类型让你定义软件组件之间的接口和洞察现有 JavaScript库的行为;</li>
</ul>
</li>
<li><p>拥有先进的 JavaScript</p>
<ul>
<li>TypeScript提供最新的和不断发展的JavaScript特性，包括那些来自2015年的ECMAScript和未来的提案中的特性，比如异步功能和Decorators，以帮助建立健壮的组件;</li>
<li>这些特性为高可信应用程序开发时是可用的，但是会被编译成简洁的ECMAScript3(或更新版本)的JavaScript;</li>
</ul>
</li>
</ul>
<h2 id="众多项目采用TypeScript">1.9. 众多项目采用TypeScript</h2><ul>
<li>正是因为有这些特性，TypeScript目前已经在很多地方被应用<ul>
<li>Angular源码在很早就使用TypeScript来进行了重写，并且开发Angular也需要掌握TypeScript; </li>
<li>Vue3源码也采用了TypeScript进行重写，在前面阅读源码时我们看到大量TypeScript的语法; </li>
<li>包括目前已经变成最流行的编辑器VSCode也是使用TypeScript来完成的;</li>
<li>包括在React中已经使用的ant-design的UI库，也大量使用TypeScript来编写;</li>
<li>目前公司非常流行Vue3+TypeScript、React+TypeScript的开发模式;</li>
<li>包括小程序开发，也是支持TypeScript的;</li>
</ul>
</li>
</ul>
<h2 id="大前端的发展趋势">1.10. 大前端的发展趋势</h2><ul>
<li><p>大前端是一群最能或者说最需要折腾的开发者</p>
<ul>
<li>客户端开发者：从Android到iOS，或者从iOS到Android，到RN，甚至现在越来越多的客户端开发者接触前端相关知识(Vue、React、Angular、小程序);</li>
<li>前端开发者：从jQuery到AngularJS，到三大框架并行:Vue、React、Angular，还有小程序，甚至现在也要 接触客户端开发(比如RN、Flutter);</li>
<li>目前又面临着不仅仅学习ES的特性，还要学习TypeScript;</li>
<li>新框架的出现，我们又需要学习新框架的特性，比如vue3.x、react18等等;</li>
</ul>
</li>
<li><p>但是每一样技术的出现都会让惊喜，因为他必然是解决了之前技术的某一个痛点的，而TypeScript真是解决了 JavaScript存在的很多设计缺陷，尤其是关于类型检测的</p>
</li>
<li><p>并且从开发者长远的角度来看，学习TypeScript有助于前端程序员培养 <strong>类型思维</strong>，这种思维方式对于完成大 型项目尤为重要</p>
</li>
</ul>
<h1 id="TypeScript配置">2. TypeScript配置</h1><h2 id="TypeScript的编译环境">2.1. TypeScript的编译环境</h2><ul>
<li><p>TypeScript最终会被编译成JavaScript来运行，所以需要搭建对应的环境</p>
<ul>
<li>需要在电脑上安装TypeScript，这样就可以通过TypeScript的Compiler将其编译成JavaScript</li>
<li>编译TypeScript代码 -&gt; 编译后的JavaScript代码 -&gt; 运行</li>
</ul>
</li>
<li><p>所以，需要先可以先进行全局的安装:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install typescript -g</span><br></pre></td></tr></table></figure>
</li>
<li><p>编译文件，文件夹内自动生成 index.js</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc index.ts</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="TypeScript的运行环境">2.2. TypeScript的运行环境</h2><ul>
<li><p>如果每次为了查看TypeScript代码的运行效果，都通过经过两个步骤的话就太繁琐了:  </p>
<ol>
<li>第一步：通过tsc编译TypeScript到JavaScript代码;</li>
<li>第二步：在浏览器或者Node环境下运行JavaScript代码;</li>
</ol>
</li>
<li><p>是否可以简化这样的步骤呢?</p>
<ul>
<li>比如编写了TypeScript之后可以直接运行在浏览器上?</li>
<li>比如编写了TypeScript之后，直接通过node的命令来执行?</li>
</ul>
</li>
<li><p>通过两个解决方案来完成</p>
<ul>
<li>方式一：通过webpack，配置本地的TypeScript编译环境和开启一个本地服务，可以直接运行在浏览器上</li>
<li>方式二：通过ts-node库，为TypeScript的运行提供执行环境;</li>
</ul>
</li>
</ul>
<h2 id="webpack配置">2.3. webpack配置</h2><h3 id="创建一个简单的项目目录结构">2.3.1. 创建一个简单的项目目录结构</h3><p>新建一个新的目录：TypeScript，并且创建如下的目录结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">│  index.html</span><br><span class="line">├─build</span><br><span class="line">│      webpack.config.js</span><br><span class="line">└─src</span><br><span class="line">        index.ts</span><br></pre></td></tr></table></figure>

<p>目录和文件夹结构分析:</p>
<ul>
<li>index.html是跑在浏览器上的模块文件</li>
<li>build文件夹中用于存放webpack的配置信息</li>
<li>src用于存放编写的所有TypeScript代码</li>
</ul>
<h3 id="使用npm管理项目的依赖">2.3.2. 使用npm管理项目的依赖</h3><p>webpack本身需要有很多的依赖，并且也需要启动 node 服务来快速浏览 index.html 模板以及编译后的 JavaScript 代码</p>
<p>使用npm来初始化package.json文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i webapck webpack-cli -D</span><br><span class="line"></span><br><span class="line">npm init -y</span><br></pre></td></tr></table></figure>



<h3 id="本地依赖TypeScript">2.3.3. 本地依赖TypeScript</h3><p>为什么需要本地依赖TypeScript</p>
<ul>
<li>因为通过 webpack 编译TypeScript代码，并不是通过tsc来完成的</li>
<li>tsc使用的是全局安装的TypeScript依赖</li>
<li>webpack会在本地去查找TypeScript的依赖，所以需要本地依赖TypeScript；</li>
</ul>
<p>安装本地TypeScript依赖</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i typescript -D</span><br></pre></td></tr></table></figure>



<h3 id="初始化tsconfig-json文件">2.3.4. 初始化tsconfig.json文件</h3><p>在进行TypeScript开发时，会针对TypeScript进行相关的配置，而这些配置信息是存放在一个tsconfig.json文件中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure>



<h3 id="在package-json中添加启动命令">2.3.5. 在package.json中添加启动命令</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;serve&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack serve&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>



<h3 id="添加webpack依赖">2.3.6. 添加webpack依赖</h3><p>依赖一：ts-loader</p>
<p>因为需要解析.ts文件，所以需要依赖对应的loader：ts-loader</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i ts-loader -D</span><br></pre></td></tr></table></figure>

<p>依赖二：html-webpack-plugin</p>
<p>编译后的代码需要对应的html模块作为它的运行环境，所以需要使用html-webpack-plugin来将它插入到对应的模板中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin -D</span><br></pre></td></tr></table></figure>

<p>依赖三：webpack-dev-server</p>
<p>本地运行项目</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-dev-server -D</span><br></pre></td></tr></table></figure>



<h3 id="配置webpack-config-js">2.3.7. 配置webpack.config.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;resolve&#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/index.ts&quot;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="title function_">resolve</span>(__dirname,<span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="comment">// 自动添加文件后缀名</span></span><br><span class="line">        <span class="attr">extensions</span>: [<span class="string">&quot;.ts&quot;</span>,<span class="string">&quot;.js&quot;</span>,<span class="string">&quot;.json&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">                <span class="attr">use</span>: <span class="string">&quot;ts-loader&quot;</span>,</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">template</span>: <span class="string">&#x27;./index.html&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">static</span>: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8888</span>,</span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="打包项目">2.3.8. 打包项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>



<h3 id="运行项目">2.3.9. 运行项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure>





<h2 id="使用ts-node">2.4. 使用ts-node</h2><ul>
<li><p>方式二：安装ts-node</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install ts-node -g</span><br></pre></td></tr></table></figure>
</li>
<li><p>另外ts-node需要依赖 tslib 和 @types&#x2F;node 两个包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install tslib @types/node -g</span><br></pre></td></tr></table></figure>
</li>
<li><p>现在，可以直接通过 ts-node 来运行TypeScript的代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ts-node math.ts</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="变量">3. 变量</h1><h2 id="变量的声明">3.1. 变量的声明</h2><ul>
<li><p>在TypeScript中定义变量需要指定 <strong>标识符</strong> 的类型</p>
</li>
<li><p>所以完整的声明格式如下</p>
<ul>
<li>声明了类型后TypeScript就会进行类型检测，声明的类型可以称之为类型注解；</li>
<li><code>var/let/const 标识符: 数据类型 = 赋值;</code></li>
</ul>
</li>
<li><p>比如声明一个message，完整的写法如下</p>
<ul>
<li><p><code>let message: string = &quot;Hello World&quot;;</code></p>
</li>
<li><p>注意：这里的string是小写的，和String是有区别的</p>
</li>
<li><p>string是TypeScript中定义的字符串类型，String是ECMAScript中定义的一个类</p>
</li>
</ul>
</li>
<li><p>如果给message赋值其他类型的值，那么就会报错:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不能将类型“number”分配给类型“string”。ts(2322)</span></span><br><span class="line"><span class="comment">// message = 123;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="声明变量的关键字">3.2. 声明变量的关键字</h2><ul>
<li><p>在TypeScript定义变量(标识符)和ES6之后一致，可以使用var、let、const来定义</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">height</span>: <span class="built_in">number</span> = <span class="number">1.88</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>当然，在TypeScript中并不建议再使用var关键字了，主要原因和ES6升级后let和var的区别是一样的，var是没 有块级作用域的，会引起很多的问题，这里不再展开探讨。</p>
</li>
</ul>
<h1 id="JavaScript和TypeScript的数据类型">4. JavaScript和TypeScript的数据类型</h1><p><img src="/zh-CN/2019/10/07/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/tsc.png"></p>
<h2 id="JavaScript数据类型">4.1. JavaScript数据类型</h2><h3 id="number">4.1.1. number</h3><ul>
<li><p>数字类型是开发中经常使用的类型，TypeScript和JavaScript一样，不区分整数类型(int)和浮点型 (double)，统一为number类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">100</span>;</span><br><span class="line">num = <span class="number">20</span>;</span><br><span class="line">num = <span class="number">6.66</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6新增了二进制和八进制的表示方法，而TypeScript也是支持二进制、八进制、十 六进制的表示</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">num</span>:<span class="built_in">number</span>;</span><br><span class="line"><span class="comment">// 十进制</span></span><br><span class="line">num = <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line"><span class="comment">// 二进制</span></span><br><span class="line">num = <span class="number">0b110</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line"><span class="comment">// 八进制</span></span><br><span class="line">num = <span class="number">0o555</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line"><span class="comment">// 十六进制</span></span><br><span class="line">num = <span class="number">0xf23</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="boolean">4.1.2. boolean</h3><p>boolean类型只有两个取值:true和false，非常简单</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">flag</span>:<span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line">flag = <span class="number">20</span>&gt;<span class="number">30</span>;</span><br></pre></td></tr></table></figure>



<h3 id="string">4.1.3. string</h3><ul>
<li><p>string类型是字符串类型，可以使用单引号或者双引号表示:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string 类型表示</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">message</span>: <span class="built_in">string</span> = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">message = <span class="string">&#x27;Hello TypeScript&#x27;</span>;</span><br></pre></td></tr></table></figure>


</li>
<li><p>同时也支持ES6的模板字符串来拼接变量和字符串:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">const</span> height = <span class="number">1.88</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> info = <span class="string">`my name is <span class="subst">$&#123;name&#125;</span>, age is <span class="subst">$&#123;age&#125;</span>, height is <span class="subst">$&#123;height&#125;</span>`</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(info);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Array">4.1.4. Array</h3><ul>
<li><p>数组类型的定义也非常简单，有两种方式:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">names1</span>: <span class="built_in">string</span>[] = [<span class="string">&#x27;abc&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">names2</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">&#x27;a&#x27;</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果添加其他类型到数组中，那么会报错:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类型“number”的参数不能赋给类型“string”的参数。ts(2345)</span></span><br><span class="line"><span class="comment">// names1.push(1);</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Object">4.1.5. Object</h3><ul>
<li><p>object对象类型可以用于描述一个对象:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> info : <span class="title class_">Object</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">1.88</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>但是从 info中不能获取数据，也不能设置数据:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(info[name]);</span><br><span class="line"></span><br><span class="line">TSError: ⨯ Unable to compile TypeScript:</span><br><span class="line">index.ts:7:13 - error TS7053: Element implicitly has an <span class="string">&#x27;any&#x27;</span> <span class="built_in">type</span> because expression of <span class="built_in">type</span> <span class="string">&#x27;&quot;name&quot;&#x27;</span> can<span class="string">&#x27;t be used to index type &#x27;</span>Object<span class="string">&#x27;.</span></span><br><span class="line"><span class="string">  Property &#x27;</span>name<span class="string">&#x27; does not exist on type &#x27;</span>Object<span class="string">&#x27;.</span></span><br></pre></td></tr></table></figure>

<p>因为Object中并没有name属性，无法通过编译，更何况执行</p>
</li>
</ul>
<h3 id="Symbol">4.1.6. Symbol</h3><ul>
<li><p>在ES5中，如果不可以在对象中添加相同的属性名称的，比如下面的做法:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">identity</span>: <span class="string">&quot;a&quot;</span>,</span><br><span class="line">  <span class="attr">identity</span>: <span class="string">&quot;b&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>通常的做法是定义两个不同的属性名字:比如identity1和identity2</p>
</li>
<li><p>但是也可以通过symbol来定义相同的名称，因为Symbol函数返回的是不同的值</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">s1</span>: <span class="built_in">symbol</span> = <span class="title class_">Symbol</span>(<span class="string">&quot;title&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="attr">s2</span>: <span class="built_in">symbol</span> = <span class="title class_">Symbol</span>(<span class="string">&quot;title&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    [s1]: <span class="string">&quot;a&quot;</span>,</span><br><span class="line">    [s2]: <span class="string">&quot;b&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[s1]);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="null和undefined">4.1.7. null和undefined</h3><ul>
<li><p>在 JavaScript 中，undefined 和 null 是两个基本数据类型</p>
</li>
<li><p>在TypeScript中，它们各自的类型也是undefined和null，也就意味着它们既是实际的值，也是自己的类型:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">a</span>: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">b</span>: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="TypeScript数据类型">4.2. TypeScript数据类型</h2><h3 id="any">4.2.1. any</h3><ul>
<li><p>在某些情况下，无法确定一个变量的类型，并且可能它会发生一些变化，这个时候可以使用any类型(类似 于Dart语言中的dynamic类型)。</p>
</li>
<li><p>any类型有点像一种讨巧的TypeScript手段</p>
<ul>
<li>可以对any类型的变量进行任何的操作，包括获取不存在的属性、方法; </li>
<li>给一个any类型的变量赋值任何的值，比如数字、字符串的值;</li>
</ul>
</li>
<li><p>如果对于某些情况的处理过于繁琐不希望添加规定的类型注解，或者在引入一些第三方库时，缺失了类型注解，这个时候 我们可以使用any</p>
<ul>
<li>包括在Vue源码中，也会使用到any来进行某些类型的适配;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">num</span>: <span class="built_in">any</span> = <span class="number">123</span>;</span><br><span class="line">num = <span class="string">&#x27;Hello&#x27;</span>;</span><br><span class="line">num = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>



<h3 id="unknown">4.2.2. unknown</h3><p>unknown是TypeScript中比较特殊的一种类型，它用于描述类型不确定的变量</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>):<span class="built_in">string</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>):<span class="built_in">number</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">result</span>: <span class="built_in">unknown</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">    result = <span class="title function_">foo</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    result = <span class="title function_">bar</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>unknown类型只能赋值给any和unknown类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">a</span>: <span class="built_in">unknown</span> = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">不能将类型“<span class="built_in">unknown</span>”分配给类型“<span class="built_in">string</span>”。</span><br><span class="line"><span class="keyword">const</span> <span class="attr">b</span>:<span class="built_in">string</span> = a;</span><br></pre></td></tr></table></figure>

<p>any类型可以赋值给任意类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">c</span>: <span class="built_in">any</span> = <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">d</span>:<span class="built_in">string</span> = c;</span><br></pre></td></tr></table></figure>



<h3 id="void">4.2.3. void</h3><ul>
<li>void通常用来指定一个函数是没有返回值的，那么它的返回值就是void类型<ul>
<li>可以将null和undefined赋值给void类型，也就是函数可以返回null或者undefined</li>
</ul>
</li>
<li>这个函数没有写任何类型，那么它默认返回值的类型就是void的，也可以显示的来指定返回值是void</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">a:<span class="built_in">number</span>,b:<span class="built_in">number</span></span>):<span class="built_in">void</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a+b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="never">4.2.4. never</h3><ul>
<li><p>never 表示永远不会发生值的类型，比如一个函数</p>
<ul>
<li>如果一个函数中是一个死循环或者抛出一个异常，那么这个函数会返回东西吗?</li>
<li>不会，那么写void类型或者其他类型作为返回值类型都不合适，就可以使用never类型;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loopFun</span>(<span class="params"></span>):<span class="built_in">never</span>&#123;</span><br><span class="line">    <span class="comment">// 死循环</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">123</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loopErr</span>(<span class="params"></span>):<span class="built_in">never</span>&#123;</span><br><span class="line">    <span class="comment">// 抛出异常</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>never有什么样的应用场景呢?</p>
<ul>
<li><p>它用到了联合类型，封装一个核心函数时，必须对所需类型进行单独处理，因为default不会被执行</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">handleMessage</span>(<span class="params">message: <span class="built_in">number</span>|<span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="keyword">switch</span>(<span class="keyword">typeof</span> message)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;string&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;number&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>: </span><br><span class="line">            <span class="keyword">const</span> <span class="attr">check</span>: <span class="built_in">never</span> = message;       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="tuple">4.2.5. tuple</h3><ul>
<li><p>tuple是元组类型，很多语言中也有这种数据类型，比如Python、Swift等</p>
</li>
<li><p>那么tuple和数组有什么区别呢?</p>
</li>
<li><p>首先，数组中通常建议存放相同类型的元素，不同类型的元素是不推荐放在数组中。(可以放在对象或者元组中)</p>
</li>
<li><p>其次，元组中每个元素都有自己特性的类型，根据索引值获取到的值可以确定对应的类型;</p>
</li>
</ul>
  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">info1</span>: (<span class="built_in">string</span>|<span class="built_in">number</span>) [] = [<span class="string">&#x27;abc&#x27;</span>,<span class="number">18</span>,<span class="number">1.88</span>];</span><br><span class="line"><span class="comment">// 不能确定类型</span></span><br><span class="line"><span class="keyword">const</span> item1 = info1[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">info2</span>: [<span class="built_in">string</span>,<span class="built_in">number</span>,<span class="built_in">number</span>] = [<span class="string">&#x27;abc&#x27;</span>,<span class="number">18</span>,<span class="number">1.88</span>];</span><br><span class="line"><span class="comment">// 一定是string类型</span></span><br><span class="line"><span class="keyword">const</span> item2 = info2[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<h1 id="Tuple的应用场景">5. Tuple的应用场景</h1><ul>
<li>那么tuple在什么地方使用的是最多的呢?<ul>
<li>tuple通常可以作为返回的值，在使用的时候会非常的方便;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> useState&lt;T&gt;(<span class="attr">state</span>:T)&#123;</span><br><span class="line">    <span class="keyword">let</span> currentState = state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">changeState</span> = (<span class="params">newState:T</span>)=&gt;&#123;</span><br><span class="line">        currentState = newState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="attr">tuple</span>: [T, <span class="function">(<span class="params">newState:T</span>)=&gt;</span><span class="built_in">void</span>] = [currentState,changeState];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tuple;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [counter,setCounter] = <span class="title function_">useState</span>(<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter);</span><br><span class="line"></span><br><span class="line"><span class="title function_">setCounter</span>(<span class="number">100</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter);</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="函数">6. 函数</h1><h2 id="参数类型">6.1. 参数类型</h2><ul>
<li>函数是JavaScript非常重要的组成部分，TypeScript允许指定函数的参数和返回值的类型</li>
<li>参数的类型注解<ul>
<li>声明函数时，可以在每个参数后添加类型注解，以声明函数接受的参数类型</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello &quot;</span>+name.<span class="title function_">toUpperCase</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="可选类型">6.1.1. 可选类型</h3><p>对象类型也可以指定哪些属性是可选的，可以在属性的后面添加一个?:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printCoordinate</span>(<span class="params">point: &#123;x:<span class="built_in">number</span>,y?:<span class="built_in">number</span>&#125;</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x坐标&quot;</span>,point.<span class="property">x</span>);</span><br><span class="line">    <span class="keyword">if</span>(point.<span class="property">y</span>)&#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;y坐标&quot;</span>,point.<span class="property">y</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">printCoordinate</span>(&#123;<span class="attr">x</span>:<span class="number">5</span>&#125;);</span><br><span class="line"><span class="title function_">printCoordinate</span>(&#123;<span class="attr">x</span>:<span class="number">10</span>,<span class="attr">y</span>:<span class="number">20</span>&#125;);</span><br></pre></td></tr></table></figure>

<p>可选类型可以看做是 <code>类型 和 undefined 的联合类型</code></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">message?:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>();</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&quot;Test&quot;</span>);</span><br><span class="line"><span class="title function_">print</span>(<span class="literal">undefined</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型“null”的参数不能赋给类型“string | undefined”的参数</span></span><br><span class="line"><span class="comment">// print(null);</span></span><br></pre></td></tr></table></figure>

<p>可选类型需要在必传参数的后面</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// (parameter) y: number</span></span><br><span class="line"><span class="comment">// 已声明“y”，但从未读取其值。ts(6133)</span></span><br><span class="line"><span class="comment">// 必选参数不能位于可选参数后。ts(1016)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x?:<span class="built_in">number</span>,y:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="默认参数">6.1.2. 默认参数</h3><ul>
<li>从ES6开始，JavaScript是支持默认参数的，TypeScript也是支持默认参数的</li>
<li>这个时候y的类型其实是 undefined 和 number 类型的联合</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x:<span class="built_in">number</span>,y:<span class="built_in">number</span>=<span class="number">6</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">foo</span>(<span class="number">3</span>));</span><br></pre></td></tr></table></figure>



<h3 id="剩余参数">6.1.3. 剩余参数</h3><p>从ES6开始，JavaScript也支持剩余参数，剩余参数语法允许将一个不定数量的参数放到一个数组中</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">...nums: <span class="built_in">number</span>[]</span>):<span class="built_in">number</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> total  = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">const</span> data <span class="keyword">of</span> nums)&#123;</span><br><span class="line">        total+=data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">sum</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br></pre></td></tr></table></figure>





<h2 id="返回值类型">6.2. 返回值类型</h2><ul>
<li><p>添加返回值的类型注解，这个注解出现在函数列表的后面:</p>
</li>
<li><p>和变量的类型注解一样，通常情况下不需要返回类型注解，因为TypeScript会根据 return 返回值推断函数的返回类型</p>
<ul>
<li>某些第三方库处于方便理解，会明确指定返回类型，但是这个看个人喜好;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1:<span class="built_in">number</span>, num2:<span class="built_in">number</span></span>):<span class="built_in">number</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1+num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="匿名函数的参数">6.3. 匿名函数的参数</h2><ul>
<li><p>匿名函数与函数声明会有一些不同: </p>
<ul>
<li><p>当一个函数出现在TypeScript可以确定该函数会被如何调用的地方时; </p>
</li>
<li><p>该函数的参数会自动指定类型;</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> names = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">names.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">  item.<span class="title function_">toUpperCase</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>并没有指定item的类型，但是item是一个string类型: </p>
<ul>
<li>这是因为TypeScript会根据forEach函数的类型以及数组的类型推断出item的类型; </li>
<li>这个过程称之为<code>上下文类型</code>(contextual typing)，因为函数执行的上下文可以帮助确定参数和返回值的类型;</li>
</ul>
</li>
</ul>
<h2 id="对象类型">6.4. 对象类型</h2><ul>
<li><p>如果希望限定一个函数接受的参数是一个对象，这个时候要如何限定呢? </p>
<ul>
<li>可以使用对象类型;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printCoordinate</span>(<span class="params">point: &#123;x:<span class="built_in">number</span>,y:<span class="built_in">number</span>&#125;</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x坐标&quot;</span>,point.<span class="property">x</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;y坐标&quot;</span>,point.<span class="property">y</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">printCoordinate</span>(&#123;<span class="attr">x</span>:<span class="number">10</span>,<span class="attr">y</span>:<span class="number">20</span>&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用了一个对象来作为类型: </p>
<ul>
<li>可以添加属性，并且告知TypeScript该属性需要是什么类型; </li>
<li>属性之间可以使用 , 或者 ; 来分割，最后一个分隔符是可选的;</li>
<li>每个属性的类型部分也是可选的，如果不指定，那么就是any类型;</li>
</ul>
</li>
</ul>
<h2 id="联合类型">6.5. 联合类型</h2><ul>
<li><p>TypeScript的类型系统允许我们使用多种运算符，从现有类型中构建新类型</p>
</li>
<li><p>使用第一种组合类型的方法：联合类型(Union Type)</p>
<ul>
<li>联合类型是由两个或者多个其他类型组成的类型;</li>
<li>表示可以是这些类型中的任何一个值; </li>
<li>联合类型中的每一个类型被称之为联合成员(union’s members);</li>
</ul>
</li>
<li><p>传入给一个联合类型的值是非常简单的</p>
<ul>
<li><p>只要保证是联合类型中的某一个类型的值即可</p>
</li>
<li><p>但是拿到这个值之后，应该如何使用它呢？因为它可能是任何一种类型</p>
</li>
<li><p>比如我们拿到的值可能是string或者number，我们就不能对其调用string上的一些方法;</p>
</li>
</ul>
</li>
<li><p>那么我们怎么处理这样的问题呢?</p>
<ul>
<li>需要使用缩小(narrow)联合;</li>
<li>TypeScript可以根据我们缩小的代码结构，推断出更加具体的类型;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printId</span>(<span class="params">id: <span class="built_in">number</span>|<span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="comment">// id是string类型</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> id === <span class="string">&#x27;string&#x27;</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ID：&quot;</span>+id.<span class="title function_">toUpperCase</span>());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ID：&quot;</span>+id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">printId</span>(<span class="number">10</span>);</span><br><span class="line"><span class="title function_">printId</span>(<span class="string">&quot;abc&quot;</span>);</span><br></pre></td></tr></table></figure>



<h2 id="类型别名">6.6. 类型别名</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Point</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>:<span class="built_in">number</span>,</span><br><span class="line">    <span class="attr">y</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printCoordinate</span>(<span class="params">point: Point</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x坐标&quot;</span>,point.<span class="property">x</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;y坐标&quot;</span>,point.<span class="property">y</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">printCoordinate</span>(&#123;<span class="attr">x</span>:<span class="number">10</span>,<span class="attr">y</span>:<span class="number">20</span>&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">ID</span> = <span class="built_in">number</span> | <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printId</span>(<span class="params">id: ID</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ID: &quot;</span>+id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="类型断言-as">6.7. 类型断言 as</h2><ul>
<li><p>有时候TypeScript无法获取具体的类型信息，这个需要使用类型断言(Type Assertions)</p>
<ul>
<li>比如通过 document.getElementById，TypeScript只知道该函数会返回 HTMLElement ，但并不知道它具体的类型</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ele = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myIng&quot;</span>) <span class="keyword">as</span> <span class="title class_">HTMLImageElement</span>;</span><br><span class="line">ele.<span class="property">src</span> = <span class="string">&quot;图片地址&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line">    <span class="title function_">studying</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">p:Person</span>)&#123;</span><br><span class="line">    <span class="comment">// 无法使用 p.studying();</span></span><br><span class="line">    (p <span class="keyword">as</span> <span class="title class_">Student</span>).<span class="title function_">studying</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> stu = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="title function_">sayHello</span>(stu);</span><br></pre></td></tr></table></figure>
</li>
<li><p>TypeScript只允许类型断言转换为 <code>更具体</code> 或者 <code>不太具体</code> 的类型版本，此规则可防止不可能的强制转换</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类型 &quot;string&quot; 到类型 &quot;number&quot; 的转换可能是错误的，因为两种类型不能充分重叠。</span></span><br><span class="line"><span class="comment">// 如果这是有意的，请先将表达式转换为 &quot;unknown&quot;。</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;test&#x27;</span> <span class="keyword">as</span> <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="非空类型断言">6.8. 非空类型断言!</h2><ul>
<li><p>编写下面的代码时，在执行ts的编译阶段会报错</p>
<ul>
<li><p>这是因为传入的message有可能是为undefined的，这个时候是不能执行方法的;</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printMessage</span>(<span class="params">message?:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="comment">// 对象可能为“未定义”。ts(2532)</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(message.<span class="title function_">toUpperCase</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">printMessage</span>(<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>但是，确定传入的参数是有值的，这个时候可以使用非空类型断言: </p>
<ul>
<li>非空断言使用的是 ! ，表示可以确定某个标识符是有值的，跳过ts在编译阶段对它的检测;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printMessage</span>(<span class="params">message?:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(message!.<span class="title function_">toUpperCase</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="TypeScript函数类型">6.9. TypeScript函数类型</h2><ul>
<li><p>在JavaScript开发中，函数是重要的组成部分，并且函数可以作为一等公民(可以作为参数，也可以作为返回值进行传递)</p>
</li>
<li><p>那么在使用函数的过程中，函数是否也可以有自己的类型呢? </p>
<ul>
<li>可以编写函数类型的表达式(Function Type Expressions)，来表示函数类型;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">CalcFunc</span> = <span class="function">(<span class="params">num1:<span class="built_in">number</span>, num2:<span class="built_in">number</span></span>)=&gt;</span><span class="built_in">void</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">calc</span>(<span class="params">fn:CalcFunc</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="number">20</span>,<span class="number">30</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1:<span class="built_in">number</span>,num2:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> num1+num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mul</span>(<span class="params">num1:<span class="built_in">number</span>,num2:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> num1*num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">calc</span>(sum);</span><br><span class="line"><span class="title function_">calc</span>(mul);</span><br></pre></td></tr></table></figure>
</li>
<li><p>在上面的语法中 (num1: number, num2: number) &#x3D;&gt; void，代表的就是一个函数类型</p>
<ul>
<li>接收两个参数的函数：num1和num2，并且都是number类型;</li>
<li>并且这个函数是没有返回值的，所以是void;</li>
</ul>
</li>
<li><p>在某些语言中，可能参数名称num1和num2是可以省略，但是TypeScript是不可以的:</p>
</li>
</ul>
<h2 id="可选链的使用">6.10. 可选链的使用</h2><ul>
<li>可选链事实上并不是TypeScript独有的特性，它是ES11(ES2020)中增加的特性: <ul>
<li>可选链使用可选链操作符 ?.;</li>
<li>它的作用是当对象的属性不存在时，会短路，直接返回undefined，如果存在，那么才会继续执行; </li>
<li>虽然可选链操作是ECMAScript提出的特性，但是和TypeScript一起使用更版本;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">    friend?:&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">        age?:<span class="built_in">number</span>,</span><br><span class="line">        girlFriend?: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">info</span>:<span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">    <span class="attr">friend</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;john&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(info.<span class="property">name</span>);</span><br><span class="line"><span class="comment">// &#123; name: &#x27;john&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(info?.<span class="property">friend</span>);</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(info.<span class="property">friend</span>?.<span class="property">age</span>);</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(info.<span class="property">friend</span>?.<span class="property">girlFriend</span>?.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>





<h1 id="和-的作用">7. ??和!!的作用</h1><h2 id="操作符">7.1. !!操作符</h2><ul>
<li>将一个其他类型转换成boolean类型; </li>
<li>类似于Boolean(变量)的方式;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> flag = <span class="title class_">Boolean</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!str);</span><br></pre></td></tr></table></figure>





<h2 id="操作符-1">7.2. ??操作符</h2><ul>
<li>它是ES11增加的新特性;</li>
<li>空值合并操作符 (??)是一个逻辑操作符，当操作符的左侧是 null 或者 undefined 时，返回其右侧操作数， 否则返回左侧操作数;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> content = str ? <span class="attr">str</span>: <span class="string">&#x27;Hello&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(content);</span><br><span class="line"></span><br><span class="line">content = str??<span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(content);</span><br></pre></td></tr></table></figure>



<h1 id="字面量">8. 字面量</h1><h2 id="字面量类型">8.1. 字面量类型</h2><ul>
<li><p>使用字面量类型(literal types)</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">message</span>: <span class="string">&#x27;Hello&#x27;</span> = <span class="string">&#x27;Hello&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不能将类型“&quot;你好&quot;”分配给类型“&quot;Hello&quot;”</span></span><br><span class="line"><span class="comment">// message = &#x27;你好&#x27;;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>那么这样做有什么意义呢?</p>
<ul>
<li>默认情况下这么做是没有太大的意义的，但是可以将多个类型联合在一起;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Alignment</span> = <span class="string">&#x27;left&#x27;</span>|<span class="string">&#x27;right&#x27;</span>|<span class="string">&#x27;center&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeAlign</span>(<span class="params">align: Alignment</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;修改方向：&quot;</span> +align);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">changeAlign</span>(<span class="string">&quot;left&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="字面量推理">8.2. 字面量推理</h2><ul>
<li><p>来看下面的代码</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Method</span> = <span class="string">&quot;GET&quot;</span>|<span class="string">&quot;POST&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">url:<span class="built_in">string</span>,method:Method</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(url,method);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Request</span> = &#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="title class_">Method</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">info</span>: <span class="title class_">Request</span> = &#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;https://www.baidu.com&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">request</span>(info.<span class="property">url</span>,info.<span class="property">method</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>字面量赋值方式一：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">request</span>(info.<span class="property">url</span>,info.<span class="property">method</span> <span class="keyword">as</span> <span class="title class_">Method</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>字面量赋值方式二：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> info = &#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;https://www.baidu.com&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">info</span>: &#123;</span><br><span class="line">    <span class="keyword">readonly</span> <span class="attr">url</span>: <span class="string">&quot;https://www.baidu.com&quot;</span>;</span><br><span class="line">    <span class="keyword">readonly</span> <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="字面量赋值">8.3. 字面量赋值</h2><p>age不能被赋值</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">eating</span>: <span class="function">()=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">不能将类型“&#123; name: string; eating(): void; age: number; &#125;</span></span><br><span class="line"><span class="comment">”分配给类型“Person”。</span></span><br><span class="line"><span class="comment">  对象文字可以只指定已知属性，并且“age”不在类型“Person”中。ts(2322)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>:<span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line">    <span class="title function_">eating</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; eating&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>p却可以指向obj</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:string,</span><br><span class="line">    <span class="attr">eating</span>: <span class="function">()=&gt;</span><span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line">    <span class="title function_">eating</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; eating&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p</span>:<span class="title class_">Person</span> = obj;</span><br><span class="line"><span class="comment">// 类型“Person”上不存在属性“age”。ts(2339)</span></span><br><span class="line"><span class="comment">//console.log(p.age);</span></span><br></pre></td></tr></table></figure>



<ul>
<li>这是因为TypeScript在字面量<code>直接赋值</code>的过程中，为了进行类型推导会进行严格的<code>类型限制</code> <ul>
<li>但是之后如果是将一个变量标识符 <code>赋值</code>给其他的变量时，会进行freshness<code>擦除</code>操作</li>
</ul>
</li>
</ul>
<h1 id="类型缩小">9. 类型缩小</h1><ul>
<li><p>什么是类型缩小呢?</p>
<ul>
<li>类型缩小的英文是 Type Narrowing;</li>
<li>可以通过类似于 typeof padding &#x3D;&#x3D;&#x3D; “number” 的判断语句，来<code>改变TypeScript的执行路径</code>; </li>
<li>在给定的执行路径中，可以缩小比声明时更小的类型，这个过程称之为 缩小;</li>
<li>而编写的 typeof padding &#x3D;&#x3D;&#x3D; “number 可以称之为 类型保护(type guards);</li>
</ul>
</li>
<li><p>常见的类型保护有如下几种: </p>
<ul>
<li>typeof</li>
<li>平等缩小(比如&#x3D;&#x3D;&#x3D;、!&#x3D;&#x3D;) </li>
<li>instanceof</li>
<li>in</li>
<li>等等…</li>
</ul>
</li>
</ul>
<h2 id="typeof">9.1. typeof</h2><p>在 TypeScript 中，检查返回的值typeof是一种类型保护:因为 TypeScript 对如何typeof操作不同的值进行编码</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printId</span>(<span class="params">id: <span class="built_in">number</span>|<span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="comment">// id是string类型</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> id === <span class="string">&#x27;string&#x27;</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ID：&quot;</span>+id.<span class="title function_">toUpperCase</span>());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ID：&quot;</span>+id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="平等缩小">9.2. 平等缩小</h2><p>可以使用switch或者相等的一些运算符来表达相等性(比如&#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;, &#x3D;&#x3D;, and !&#x3D; )</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Direction</span> = <span class="string">&#x27;left&#x27;</span>|<span class="string">&#x27;right&#x27;</span>|<span class="string">&#x27;top&#x27;</span>|<span class="string">&#x27;bottom&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">turnDirection</span>(<span class="params">direction:Direction</span>)&#123;</span><br><span class="line">    <span class="keyword">switch</span>(direction)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;left&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;调用left方法&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;right&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;调用right方法&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;top&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;调用top方法&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;bottom&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;调用bottom方法&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="instanceof">9.3. instanceof</h2><p>JavaScript 有一个运算符来检查一个值是否是另一个值的“实例”</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printValue</span>(<span class="params">date:<span class="built_in">Date</span>|<span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(date <span class="keyword">instanceof</span> <span class="title class_">Date</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">toLocaleDateString</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(date);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>





<h2 id="in">9.4. in</h2><ul>
<li>Javascript 有一个运算符，用于确定对象是否具有带名称的属性:in运算符<ul>
<li>如果指定的属性在指定的对象或其原型链中，则<strong>in 运算符</strong>返回true;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Fish</span> = &#123;</span><br><span class="line">    <span class="attr">swim</span>: <span class="function">()=&gt;</span> <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Dog</span> = &#123;</span><br><span class="line">    <span class="attr">run</span>: <span class="function">()=&gt;</span> <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">move</span>(<span class="params">animal: Fish|Dog</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="string">&#x27;swim&#x27;</span> <span class="keyword">in</span> animal)&#123;</span><br><span class="line">        animal.<span class="title function_">swim</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        animal.<span class="title function_">run</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h1 id="this">10. this</h1><h2 id="可推导的this类型">10.1. 可推导的this类型</h2><ul>
<li><p>this是JavaScript中一个比较难以理解和把握的知识点</p>
<ul>
<li>this:<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/hYm0JgBI25grNG_2sCRlTA">https://mp.weixin.qq.com/s/hYm0JgBI25grNG_2sCRlTA</a>; </li>
<li>因为this在不同的情况下会绑定不同的值，所以对于它的类型就更难把握了;</li>
</ul>
</li>
<li><p>那么，TypeScript是如何处理this呢?</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> info = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">  <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>上面的代码是可以正常运行的，也就是TypeScript在编译时，认为this是可以正确去使用的</p>
<ul>
<li>TypeScript认为函数 sayHello 有一个对应的this的外部对象 info，所以在使用时，就会把this当做该对象</li>
</ul>
</li>
</ul>
<h2 id="不确定的this类型">10.2. 不确定的this类型</h2><ul>
<li><p>但是对于某些情况来说，并不知道this到底是什么?</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> info = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">  sayHello</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>这段代码运行会报错的</p>
<ul>
<li>再次强调一下，TypeScript进行类型检测的目的是<code>让代码更加的安全</code>;</li>
<li>所以这里对于 sayHello 的调用来说，虽然将其放到了info中，通过info去调用，this依然是指向info对象的;</li>
<li>但是对于TypeScript编译器来说，这个代码是非常不安全的，因为也有可能直接调用函数，或者通过别的对象来调用函数;</li>
</ul>
</li>
</ul>
<h2 id="指定this的类型">10.3. 指定this的类型</h2><p>这个时候，通常TypeScript会要求明确的指定this的类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NameType</span>=&#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params"><span class="variable language_">this</span>:NameType</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="重载">11. 重载</h1><h2 id="函数的重载">11.1. 函数的重载</h2><ul>
<li><p>在TypeScript中，如果编写了一个add函数，希望可以对字符串和数字类型进行相加，应该如何编写呢? </p>
</li>
<li><p>可能会这样来编写，但是其实是错误的</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 运算符“+”不能应用于类型“string | number”和“string | number”</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1:<span class="built_in">number</span>|<span class="built_in">string</span>,num2:<span class="built_in">number</span>|<span class="built_in">string</span></span>):<span class="built_in">number</span>|<span class="built_in">string</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num1+num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>那么这个代码应该如何去编写呢</p>
<ul>
<li>在TypeScript中，我们可以去编写不同的重载签名(overload signatures)来表示函数可以以不同的方式进行调用;</li>
<li>一般是编写两个或者以上的重载签名，再去编写一个通用的函数以及实现;</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1:<span class="built_in">number</span>,num2:<span class="built_in">number</span></span>):<span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1:<span class="built_in">string</span>,num2:<span class="built_in">string</span></span>):<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1:<span class="built_in">any</span>,num2:<span class="built_in">any</span></span>):<span class="built_in">any</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> num1+num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>,<span class="number">2</span>));</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="联合类型和重载">11.2. 联合类型和重载</h2><ul>
<li><p>现在有一个需求：定义一个函数，可以传入字符串或者数组，获取它们的长度</p>
</li>
<li><p>这里有两种实现方案</p>
<ul>
<li><p>方案一：使用联合类型来实现; </p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">a:<span class="built_in">string</span>|<span class="built_in">any</span>[]</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> a.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方案二：实现函数重载来实现;</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">a:<span class="built_in">string</span></span>):<span class="built_in">number</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">a:<span class="built_in">any</span>[]</span>):<span class="built_in">number</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">a:<span class="built_in">any</span></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> a.<span class="property">length</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="string">``</span><span class="string">`ts</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 在开发中选择使用哪一种呢?</span></span><br><span class="line"><span class="string">  - 在可能的情况下，尽量选择使用联合类型来实现;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 类</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 认识类的使用</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 在早期的JavaScript开发中(ES5)需要通过函数和原型链来实现类和继承，从ES6开始，引入了class关键字，可以更加方便的定义和使用类</span></span><br><span class="line"><span class="string">- TypeScript作为JavaScript的超集，也是支持使用class关键字的，并且还可以对类的属性和方法等进行静态类型检测</span></span><br><span class="line"><span class="string">- 实际上在JavaScript的开发过程中，更加习惯于`</span>函数式编程<span class="string">`</span></span><br><span class="line"><span class="string">  - 比如React开发中，目前更多使用的函数组件以及结合Hook的开发模式; </span></span><br><span class="line"><span class="string">  - 比如在Vue3开发中，目前也更加推崇使用 Composition API;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 但是在封装某些业务的时候，类具有更强大封装性</span></span><br><span class="line"><span class="string">- 类的定义通常会使用class关键字</span></span><br><span class="line"><span class="string">  - 在面向对象的世界里，任何事物都可以使用类的结构来描述; </span></span><br><span class="line"><span class="string">  - 类中包含特有的属性和方法;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 类的定义</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 定义一个Person类</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 使用class关键字来定义一个类;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 可以声明一些类的属性:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  - 在类的内部声明类的属性以及对应的类型</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  - 如果类型没有声明，那么它们默认是any的;</span></span><br><span class="line"><span class="string">  - 也可以给属性设置初始化值;</span></span><br><span class="line"><span class="string">  - 在默认的strictPropertyInitialization模式下的属性是`</span>必须初始化<span class="string">`的，如果没有初始化，那么编译时就会报错;</span></span><br><span class="line"><span class="string">  - 如果在strictPropertyInitialization模式下确实不希望给属性初始化，可以使用 name!: string语法;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 类可以有自己的构造函数constructor，当我们通过new关键字创建一个 实例时，构造函数会被调用;</span></span><br><span class="line"><span class="string">  - 构造函数不需要返回任何值，默认返回当前创建出来的实例; </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">- 类中可以有自己的函数，定义的函数称之为方法;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>ts</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">running</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">eating</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; eating&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;test&quot;</span>,<span class="number">18</span>);</span><br><span class="line">p.<span class="title function_">eating</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="类的继承">11.3. 类的继承</h2><ul>
<li>面向对象的其中一大特性就是继承，继承不仅仅可以减少代码量，也是多态的使用前提</li>
<li>使用extends关键字来实现继承，子类中使用super来访问父类</li>
<li>Student类继承自Person<ul>
<li>Student类可以有自己的属性和方法，并且会继承Person的属性和方法</li>
<li>在构造函数中，我们可以通过super来调用父类的构造方法，对父类中的属性进行初始化;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line">    <span class="attr">sno</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span>,sno:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name,age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sno</span> = sno;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">studying</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; studying&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stu = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;a&quot;</span>,<span class="number">18</span>,<span class="number">1</span>);</span><br><span class="line">stu.<span class="title function_">eating</span>();</span><br></pre></td></tr></table></figure>



<h2 id="多态">11.4. 多态</h2><p>父类引用指向子类对象</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">action</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;animal running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">action</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Dog running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fish</span>  <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">action</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Fish running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeAction</span>(<span class="params">animal:Animal</span>)&#123;</span><br><span class="line">    animal.<span class="title function_">action</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行的是Fish类中的方法</span></span><br><span class="line"><span class="title function_">makeAction</span>(<span class="keyword">new</span> <span class="title class_">Fish</span>());</span><br></pre></td></tr></table></figure>



<h2 id="类的成员修饰符">11.5. 类的成员修饰符</h2><ul>
<li><p>在TypeScript中，类的属性和方法支持三种修饰符: public、private、protected </p>
<ul>
<li>public 修饰的是在任何地方可见、公有的属性或方法，默认编写的属性就是public的; </li>
<li>private 修饰的是仅在同一类中可见、私有的属性或方法;</li>
<li>protected 修饰的是仅在类自身及子类中可见、受保护的属性或方法;</li>
</ul>
</li>
<li><p>public是默认的修饰符，也是可以直接访问的</p>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">		<span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;test&quot;</span>,<span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 属性“name”受保护，只能在类“Person”及其子类中访问。ts(2445)</span></span><br><span class="line">/ <span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>);</span><br><span class="line"><span class="comment">// 属性“age”为私有属性，只能在类“Person”中访问。ts(2341)</span></span><br><span class="line"><span class="comment">// console.log(p.age);</span></span><br></pre></td></tr></table></figure>



<h2 id="只读属性readonly">11.6. 只读属性readonly</h2><p>如果有一个属性不希望外界可以任意的修改，只希望确定值后直接使用，那么可以使用readonly</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">name</span>:<span class="built_in">string</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无法分配到 &quot;name&quot; ，因为它是只读属性。ts(2540)</span></span><br><span class="line"><span class="comment">// p.name = &quot;Test&quot;;</span></span><br></pre></td></tr></table></figure>



<h2 id="getters-x2F-setters">11.7. getters&#x2F;setters</h2><ul>
<li>私有属性是不能直接访问的，可以使用存取器监听它的获取(getter)和设置(setter)的过程</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">_name</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">_name:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_name</span> = _name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">name</span>(<span class="params">newName</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_name</span> = newName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">name</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_name</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line">p.<span class="property">name</span> = <span class="string">&quot;Test&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>



<h2 id="静态成员">11.8. 静态成员</h2><ul>
<li>在类中定义的成员和方法都属于对象级别的, 在开发中, 有时候也需要定义<code>类级别的成员和方法</code></li>
<li>在TypeScript中通过关键字static来定义:</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="attr">time</span>: <span class="built_in">string</span> = <span class="string">&#x27;20:00&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">attendClass</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;上课&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Student</span>.<span class="property">time</span>);</span><br><span class="line"><span class="title class_">Student</span>.<span class="title function_">attendClass</span>();</span><br></pre></td></tr></table></figure>



<h2 id="类的类型">11.9. 类的类型</h2><p>类本身也是可以作为一种数据类型的</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">running</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>:<span class="title class_">Person</span> = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">p1.<span class="title function_">running</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p2</span>:<span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line">    <span class="title function_">running</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; run&quot;</span>);   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">p2.<span class="title function_">running</span>();</span><br></pre></td></tr></table></figure>





<h1 id="抽象类abstract">12. 抽象类abstract</h1><ul>
<li><p>继承是多态使用的前提</p>
<ul>
<li>所以在定义很多通用的调用接口时, 通常会让调用者传入父类，通过多态来实现更加灵活的调用方式</li>
<li>但是，父类本身可能并不需要对某些方法进行具体的实现，所以父类中定义的方法,，可以定义为抽象方法</li>
</ul>
</li>
<li><p>什么是抽象方法?</p>
<ul>
<li>在TypeScript中没有具体实现的方法(没有方法体)，就是抽象方法</li>
<li>抽象方法，必须存在于抽象类中;</li>
<li>抽象类是使用abstract声明的类;</li>
</ul>
</li>
<li><p>抽象类有如下的特点:</p>
<ul>
<li>抽象类是不能被实例的话(也就是不能通过new创建) </li>
<li><code>抽象方法必须被子类实现</code>，否则该类必须是一个抽象类;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="title function_">getArea</span>():<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cricle</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Shape</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">r</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">r: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">r</span> = r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getArea</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">r</span>*<span class="variable language_">this</span>.<span class="property">r</span>*<span class="number">3.14</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 矩形</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Shape</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">width</span>:<span class="built_in">number</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">height</span>:<span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">width:<span class="built_in">number</span>,height:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">width</span> = width;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">height</span> = height;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getArea</span>(): <span class="built_in">number</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">width</span>*<span class="variable language_">this</span>.<span class="property">height</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算面积</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">calcArea</span>(<span class="params">...shape:Shape[]</span>)&#123;</span><br><span class="line">    shape.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(item.<span class="title function_">getArea</span>());</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> circle = <span class="keyword">new</span> <span class="title class_">Cricle</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">const</span> rectangle = <span class="keyword">new</span> <span class="title class_">Rectangle</span>(<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">calcArea</span>(circle,rectangle);</span><br></pre></td></tr></table></figure>







<h1 id="接口">13. 接口</h1><h2 id="接口的声明">13.1. 接口的声明</h2><ul>
<li><p>通过type可以用来声明一个对象类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Point</span> = &#123;</span><br><span class="line">  <span class="attr">x</span>:<span class="built_in">number</span>,</span><br><span class="line">  <span class="attr">y</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象的另外一种声明方式就是通过接口来声明</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="attr">x</span>:<span class="built_in">number</span></span><br><span class="line">  <span class="attr">y</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>interface和type都可以用来定义对象类型，那么在开发中定义对象类型时，到底选择哪一个呢? </p>
<ul>
<li>如果是定义<code>非对象类型</code>，通常推荐使用<code>type</code>，比如Direction、Alignment、一些Function;</li>
<li>如果是定义<code>对象类型</code>，那么是有区别的: <ul>
<li><code>interface</code> 可以<code>重复</code>的对某个接口来定义属性和方法; </li>
<li>而type定义的是别名，别名是不能重复的;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">running</span>: <span class="function">()=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Animal</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">running</span>: <span class="function">()=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 标识符“Animal”重复。ts(2300)</span></span><br><span class="line"><span class="comment">// type Animal = &#123;</span></span><br><span class="line"><span class="comment">//   age:number</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="可选属性">13.2. 可选属性</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">  age?:<span class="built_in">number</span>,</span><br><span class="line">  friend?:&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">person</span>:<span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Test&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">friend</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">friend</span>?.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>





<h2 id="只读属性">13.3. 只读属性</h2><ul>
<li>接口中也可以定义只读属性<ul>
<li>这样就意味着我们再初始化之后，这个值是不可以被修改的;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">  age?:<span class="built_in">number</span>,</span><br><span class="line">  <span class="keyword">readonly</span> friend?:&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">person</span>:<span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Test&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">friend</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无法分配到 &quot;name&quot; ，因为它是只读属性。ts(2540)</span></span><br><span class="line"><span class="comment">// person.name = &quot;123&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 无法分配到 &quot;friend&quot; ，因为它是只读属性。ts(2540)</span></span><br><span class="line"><span class="comment">// person.friend = &#123;&#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象指向不可改变，对象中的属性值是可以改变的</span></span><br><span class="line"><span class="keyword">if</span>(person.<span class="property">friend</span>)&#123;</span><br><span class="line">  person.<span class="property">friend</span>.<span class="property">name</span> = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="索引类型">13.4. 索引类型</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">FrontLanguage</span>&#123;</span><br><span class="line">    [<span class="attr">index</span>:number]:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">fronted</span>:<span class="title class_">FrontLanguage</span>=&#123;</span><br><span class="line">    <span class="number">1</span>: <span class="string">&#x27;HTML&#x27;</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&#x27;CSS&#x27;</span>,</span><br><span class="line">    <span class="number">3</span>: <span class="string">&#x27;JavaScript&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// HTML</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fronted[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>



<h2 id="函数类型">13.5. 函数类型</h2><ul>
<li><p>通过interface也可以用来定义函数类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">CalcFunc</span>&#123;</span><br><span class="line">    (<span class="attr">num1</span>:<span class="built_in">number</span>,<span class="attr">num2</span>:<span class="built_in">number</span>):<span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">add</span>:<span class="title class_">CalcFunc</span> = <span class="function">(<span class="params">num1,num2</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num1+num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>当然，除非特别的情况，还是推荐大家使用类型别名来定义函数</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">CalcFunc</span> = <span class="function">(<span class="params">num1:<span class="built_in">number</span>,num2:<span class="built_in">number</span></span>)=&gt;</span><span class="built_in">number</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="接口继承">13.6. 接口继承</h2><ul>
<li>接口和类一样是可以进行继承的，也是使用extends关键字: <ul>
<li>并且接口是支持<code>多继承</code>的(类不支持多继承)</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">eating</span>: <span class="function">()=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="attr">running</span>: <span class="function">()=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>,<span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="attr">sno</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">stu</span>:<span class="title class_">Student</span> = &#123;</span><br><span class="line">    <span class="attr">sno</span>: <span class="number">110</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line">    <span class="title function_">eating</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot; eating&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">running</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+ <span class="string">&quot; running&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu.<span class="property">name</span>);</span><br><span class="line">stu.<span class="title function_">eating</span>();</span><br><span class="line">stu.<span class="title function_">running</span>();</span><br></pre></td></tr></table></figure>





<h2 id="接口的实现">13.7. 接口的实现</h2><ul>
<li>接口定义后，也是可以被类实现的<ul>
<li>如果被一个类实现，那么在之后需要传入接口的地方，都可以将这个类传入; </li>
<li>这就是面向接口开发;</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Swim</span>&#123;</span><br><span class="line">    <span class="attr">swimming</span>: <span class="function">()=&gt;</span><span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">Run</span>&#123;</span><br><span class="line">    <span class="attr">running</span>: <span class="function">()=&gt;</span><span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> implements <span class="title class_">Swim</span>,<span class="title class_">Run</span>&#123;</span><br><span class="line">    <span class="title function_">swimming</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;swimming&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">running</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">swim</span>(<span class="params">swimmer: Swim</span>)&#123;</span><br><span class="line">    swimmer.<span class="title function_">swimming</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="title function_">swim</span>(p);</span><br></pre></td></tr></table></figure>



<h1 id="交叉类型">14. 交叉类型</h1><ul>
<li><p>联合类型表示多个类型中一个即可</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Align</span> = <span class="string">&#x27;left&#x27;</span>|<span class="string">&#x27;right&#x27;</span>|<span class="string">&#x27;top&#x27;</span>|<span class="string">&#x27;bottom&#x27;</span>;</span><br></pre></td></tr></table></figure>


</li>
<li><p>还有另外一种类型合并，就是交叉类型(Intersection Types)</p>
<ul>
<li>交叉类似表示需要满足多个类型的条件;</li>
<li>交叉类型使用 &amp; 符号;</li>
</ul>
</li>
<li><p>交叉类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">MyType</span> = <span class="built_in">number</span>&amp;<span class="built_in">string</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>表达的含义是number和string要<code>同时满足</code>; </li>
<li>但是有同时满足是一个number又是一个string的值吗?</li>
<li>其实是没有的，所以MyType<code>其实是一个never类型</code>;</li>
</ul>
</li>
<li><p>在开发中，通常是对对象类型进行交叉的</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Colorful</span>&#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Run</span>&#123;</span><br><span class="line">    <span class="attr">running</span>: <span class="function">()=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NewType</span> = <span class="title class_">Colorful</span>&amp;<span class="title class_">Run</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>:<span class="title class_">NewType</span> = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">    <span class="title function_">running</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">running</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="枚举类型">15. 枚举类型</h1><ul>
<li><p>枚举类型是为数不多的TypeScript特性有的特性之一</p>
<ul>
<li>枚举其实就是将一组可能出现的值，一个个列举出来，定义在一个类型中，这个类型就是枚举类型; </li>
<li>枚举允许开发者定义一组命名常量，常量可以是数字、字符串类型;</li>
</ul>
</li>
</ul>
<h2 id="应用">15.1. 应用</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span>&#123;</span><br><span class="line">    <span class="variable constant_">LEFT</span>,</span><br><span class="line">    <span class="variable constant_">RIGHT</span>,</span><br><span class="line">    <span class="variable constant_">TOP</span>,</span><br><span class="line">    <span class="variable constant_">BOTTOM</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">TurnDirection</span>(<span class="params">direction:Direction</span>)&#123;</span><br><span class="line">    <span class="keyword">switch</span>(direction)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">LEFT</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;转向左边&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">RIGHT</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;转向右边&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">TOP</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;转向上边&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">BOTTOM</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;转向下边&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">const</span> <span class="attr">myDirection</span>: <span class="built_in">never</span> = direction;   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="枚举类型的值">15.2. 枚举类型的值</h2><ul>
<li><p>枚举类型默认是有值的，比如上面的枚举，默认值是这样的</p>
</li>
<li><p>当然，也可以给枚举其他值</p>
<ul>
<li>从100进行递增;</li>
</ul>
</li>
<li><p>也可以给他们赋值其他的类型:</p>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction1</span> &#123;</span><br><span class="line">  <span class="variable constant_">LEFT</span> = <span class="number">0</span>,</span><br><span class="line">  <span class="variable constant_">RIGHT</span> = <span class="number">1</span>,</span><br><span class="line">  <span class="variable constant_">TOP</span> = <span class="number">2</span>,</span><br><span class="line">  <span class="variable constant_">BOTTOM</span> = <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction2</span> &#123;</span><br><span class="line">  <span class="variable constant_">LEFT</span> = <span class="string">&quot;LEFT&quot;</span>,</span><br><span class="line">  <span class="variable constant_">RIGHT</span> = <span class="string">&quot;RIGHT&quot;</span>,</span><br><span class="line">  <span class="variable constant_">TOP</span> = <span class="string">&quot;TOP&quot;</span>,</span><br><span class="line">  <span class="variable constant_">BOTTOM</span> = <span class="string">&quot;BOTTOM&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="泛型">16. 泛型</h1><ul>
<li><p>软件工程的主要目的是构建不仅仅明确和一致的API，还要让你的代码具有很强的可重用性:</p>
<ul>
<li>比如可以通过函数来封装一些API，通过传入不同的函数参数，让函数完成不同的操作; </li>
<li>但是对于参数的类型是否也可以参数化呢?</li>
</ul>
</li>
<li><p>什么是类型的参数化?</p>
<ul>
<li>提一个需求：封装一个函数，传入一个参数，并且返回这个参数;</li>
</ul>
</li>
<li><p>如果是TypeScript的思维方式，要考虑这个参数和返回值的类型需要一致:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">arg:<span class="built_in">number</span></span>):<span class="built_in">number</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>上面的代码虽然实现了，但是不适用于其他类型，比如string、boolean、Person等类型:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">arg:any</span>):any&#123;</span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="泛型实现类型参数化">16.1. 泛型实现类型参数化</h2><ul>
<li><p>虽然any是可以的，但是定义为any的时候，其实已经丢失了类型信息</p>
<ul>
<li>比如传入的是一个number，那么希望返回的可不是any类型，而是number类型;</li>
<li>所以，需要在函数中可以捕获到参数的类型是number，并且同时使用它来作为返回值的类型;</li>
</ul>
</li>
<li><p>需要在这里使用一种特性的变量 - 类型变量(type variable)，它作用于类型，而不是值</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> foo&lt;<span class="title class_">Type</span>&gt;(<span class="attr">arg</span>:<span class="title class_">Type</span>):<span class="title class_">Type</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>可以使用两种方式来调用它</p>
<ol>
<li>方式一：通过 &lt;类型&gt; 的方式将类型传递给函数;</li>
<li>方式二：通过类型推到，自动推到出我们传入变量的类型:<ul>
<li>在这里会推导出它们是字面量类型的，因为字面量类型对于函数也是适用的</li>
</ul>
</li>
</ol>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">foo&lt;<span class="built_in">number</span>&gt;(<span class="number">123</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="泛型的基本补充">16.2. 泛型的基本补充</h2><ul>
<li>可以传入多个类型</li>
<li>平时在开发中可能会看到一些常用的名称<ul>
<li>T：Type的缩写，类型</li>
<li>K、V：key和value的缩写，键值对</li>
<li>E：Element的缩写，元素</li>
<li>O：Object的缩写，对象</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> foo&lt;T,E&gt;(<span class="attr">a1</span>:T, <span class="attr">a2</span>:E)&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="泛型接口">16.3. 泛型接口</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Foo</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="attr">initialValue</span>: T,</span><br><span class="line">    <span class="attr">valueList</span>: T[],</span><br><span class="line">    <span class="attr">handleValue</span>: <span class="function">(<span class="params">value:T</span>)=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">foo</span>: <span class="title class_">Foo</span>&lt;<span class="built_in">number</span>&gt; = &#123;</span><br><span class="line">    <span class="attr">initialValue</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">valueList</span>: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    <span class="title function_">handleValue</span>(<span class="params">value:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="泛型类">16.4. 泛型类</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="attr">x</span>: T;</span><br><span class="line">    <span class="attr">y</span>: T;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x:T,y:T</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">Point</span>&lt;<span class="built_in">number</span>&gt;(<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p3</span>:<span class="title class_">Point</span>&lt;<span class="built_in">number</span>&gt; = <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">10</span>,<span class="number">20</span>);</span><br></pre></td></tr></table></figure>





<h2 id="泛型约束">16.5. 泛型约束</h2><ul>
<li>有时候希望传入的类型有某些共性，但是这些共性可能不是在同一种类型中<ul>
<li>比如string和array都是有length的，或者某些对象也是会有length属性的;</li>
<li>那么只要是拥有length的属性都可以作为参数类型，那么应该如何操作呢?</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ILength</span>&#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> getLength&lt;T <span class="keyword">extends</span> <span class="title class_">ILength</span>&gt;(<span class="attr">arg</span>:T)&#123;</span><br><span class="line">    <span class="keyword">return</span> arg.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型“number”的参数不能赋给类型“ILength”的参数。ts(2345)</span></span><br><span class="line"><span class="comment">//getLength(123);</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">getLength</span>(<span class="string">&quot;123&quot;</span>);</span><br></pre></td></tr></table></figure>





<h1 id="模块化开发">17. 模块化开发</h1><ul>
<li>TypeScript支持两种方式来控制作用域<ul>
<li>模块化：每个文件可以是一个独立的模块，支持ES Module，也支持CommonJS; </li>
<li>命名空间：通过namespace来声明一个命名空间</li>
</ul>
</li>
</ul>
<h2 id="模块化">17.1. 模块化</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1:number,num2:number</span>):number&#123;</span><br><span class="line">  <span class="keyword">return</span> num1+num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">sub</span>(<span class="params">num1:number,num2:number</span>):number&#123;</span><br><span class="line">  <span class="keyword">return</span> num1-num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="命名空间namespace">17.2. 命名空间namespace</h2><ul>
<li>命名空间在TypeScript早期时，称之为<code>内部模块</code></li>
<li>主要目的是将一个模块内部再进行作用域的划分，防止一些命名冲突的问题</li>
<li>在namespace中可以命名变量，函数，但只有声明export后才可以被外部调用</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">Time</span>&#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">format</span>(<span class="params">time:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(time);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">&quot;string&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">Price</span>&#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">format</span>(<span class="params">price:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Time</span>,<span class="title class_">Price</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./math&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Time</span>.<span class="title function_">format</span>(<span class="string">&quot;2222-02-22&quot;</span>);</span><br><span class="line"><span class="title class_">Price</span>.<span class="title function_">format</span>(<span class="string">&quot;22.22&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Time</span>.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>





<h1 id="类型的查找">18. 类型的查找</h1> <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> imageEl = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;image&quot;</span>) <span class="keyword">as</span> <span class="title class_">HTMLImageElement</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>HTMLImageElement类型来自哪里呢？甚至是document为什么可以有getElementById的方法呢?</p>
<ul>
<li>其实这里就涉及到typescript对类型的管理和查找规则了</li>
</ul>
</li>
<li><p>另外的一种typescript文件:.d.ts文件</p>
<ul>
<li>之前编写的typescript文件都是 .ts 文件，这些文件最终会输出 .js 文件，也是通常编写代码的地方;</li>
<li>还有另外一种文件 .d.ts 文件，它是用来做类型的声明(declare)</li>
<li>它仅仅用来做类型检测，告知typescript有哪些类型;</li>
</ul>
</li>
<li><p>那么typescript会在哪里查找类型声明呢? </p>
<ul>
<li>内置类型声明;</li>
<li>外部定义类型声明;</li>
<li>自己定义类型声明;</li>
</ul>
</li>
</ul>
<h2 id="内置类型声明">18.1. 内置类型声明</h2><ul>
<li><p>内置类型声明是typescript自带的、内置了JavaScript运行时的一些标准化API的声明文件; </p>
<ul>
<li>包括比如Math、Date等内置类型，也包括DOM API，比如Window、Document等;</li>
</ul>
</li>
<li><p>内置类型声明通常在安装typescript的环境中会带有的; </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/microsoft/TypeScript/tree/main/lib">https://github.com/microsoft/TypeScript/tree/main/lib</a></li>
</ul>
</li>
</ul>
<h2 id="外部定义类型声明">18.2. 外部定义类型声明</h2><ul>
<li>外部类型声明通常是使用一些库(比如第三方库)时，需要的一些类型声明</li>
<li>这些库通常有两种类型声明方式<ol>
<li>方式一：在自己库中进行类型声明(编写.d.ts文件)，比如axios</li>
<li>方式二：通过社区的一个公有库DefinitelyTyped存放类型声明文件<ul>
<li>该库的GitHub地址：<a target="_blank" rel="noopener" href="https://github.com/DefinitelyTyped/DefinitelyTyped/">https://github.com/DefinitelyTyped/DefinitelyTyped/</a> </li>
<li>该库查找声明安装方式的地址：<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/dt/search?search=">https://www.typescriptlang.org/dt/search?search=</a> </li>
<li>比如安装react的类型声明：npm i @types&#x2F;react –save-dev</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2 id="自定义声明">18.3. 自定义声明</h2><ul>
<li>什么情况下需要自己来定义声明文件呢?<ul>
<li>情况一：使用的第三方库是一个纯的JavaScript库，没有对应的声明文件；比如lodash </li>
<li>情况二：代码中声明一些类型，方便在其他地方直接进行使用;</li>
</ul>
</li>
</ul>
<h2 id="声明变量-函数-类">18.4. 声明变量-函数-类</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> <span class="attr">tName</span>: <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> <span class="attr">tAge</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">tFoo</span>(<span class="params"></span>):<span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="声明模块">18.5. 声明模块</h2><ul>
<li><p>也可以声明模块，比如lodash模块默认不能使用的情况，可以自己来声明这个模块</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;lodash&#x27;</span>&#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">join</span>(<span class="params">arr:<span class="built_in">any</span>[]</span>):<span class="built_in">void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>声明模块的语法：declare module ‘模块名’ {}</p>
<ul>
<li>在声明模块的内部，可以通过 export 导出对应库的类、函数等;</li>
</ul>
</li>
</ul>
<h2 id="declare文件">18.6. declare文件</h2><ul>
<li>在某些情况下，也可以声明文件<ul>
<li>比如在开发vue的过程中，默认是不识别 .vue文件的，那么就需要对其进行文件的声明; </li>
<li>比如在开发中使用了 jpg 这类图片文件，默认typescript也是不支持的，也需要对其进行声明;</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;*.vue&#x27;</span>&#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; <span class="title class_">DefineComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">component</span>: <span class="title class_">DefineComponent</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> component;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;*.jpg&#x27;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">src</span>:<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> src;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="declare命名空间">18.7. declare命名空间</h2><ul>
<li><p>在index.html中直接引入了jQuery</p>
<ul>
<li>CDN地址: <a target="_blank" rel="noopener" href="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js">https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js</a></li>
</ul>
</li>
<li><p>可以进行命名空间的声明</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> $&#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">settings:<span class="built_in">any</span></span>):<span class="built_in">void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在main.ts中就可以使用了</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;http://123.207.32.32:8000/home/multidata&#x27;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="function">(<span class="params">res:<span class="built_in">any</span></span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="tsconfig-json文件">19. tsconfig.json文件</h1><ul>
<li>tsconfig.json是用于配置TypeScript编译时的配置选项 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/tsconfig">https://www.typescriptlang.org/tsconfig</a></li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">/*目标代码 ts-&gt;js(es5/6/7)*/</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esnext&quot;</span><span class="punctuation">,</span>    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    	目标代码需要使用的模块化方案</span></span><br><span class="line"><span class="comment">      commonjs require/module.exports</span></span><br><span class="line"><span class="comment">      es import/export</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esnext&quot;</span><span class="punctuation">,</span> </span><br><span class="line">    <span class="comment">/*严格模式检查*/</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    	对jsx进行怎么样的处理</span></span><br><span class="line"><span class="comment">    	preserve 保留原有代码形式</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attr">&quot;jsx&quot;</span><span class="punctuation">:</span> <span class="string">&quot;preserve&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/* 是否帮助导入一些需要的功能模块 */</span></span><br><span class="line">    <span class="attr">&quot;importHelpers&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    	 https://www.typescriptlang.org/docs/handbook/module-resolution.html#module-resolution-strategies</span></span><br><span class="line"><span class="comment">    	 按照node的方式去解析模块 import时寻找文件</span></span><br><span class="line"><span class="comment">    	 &quot;/index&quot; 找 index.js,index.ts,index.node等</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    		跳过一些库的类型检测</span></span><br><span class="line"><span class="comment">        导入axios时，依赖其他第三方库，而这些库不进行类型检测</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attr">&quot;skipLibCheck&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    	  可以让es module和commonjs相互调用 </span></span><br><span class="line"><span class="comment">    	  export dafult/ module.exports</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;allowSyntheticDefaultImports&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/* 是否要生成sourcemap文件 */</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/* JavaScript Support */</span></span><br><span class="line">    <span class="comment">/* 文件路径在解析时的基本url */</span></span><br><span class="line">		<span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./&quot;</span><span class="punctuation">,</span>                                  </span><br><span class="line">    <span class="comment">/* 路径的映射设置，对应于webpack中的alias */</span></span><br><span class="line">    <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;@/*&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="string">&quot;src/*&quot;</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="comment">/* 指定需要使用到的库，也可以不配置，直接根据target获取 */</span></span><br><span class="line">    <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;esnext&quot;</span><span class="punctuation">,</span> <span class="string">&quot;dom&quot;</span><span class="punctuation">,</span> <span class="string">&quot;dom.iterable&quot;</span><span class="punctuation">,</span> <span class="string">&quot;scripthost&quot;</span><span class="punctuation">]</span>                                </span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">/* 需要typescript编译，解析的文件 */</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;src/shims-vue.d.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;src/**/*.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;src/**/*.tsx&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;src/**/*.vue&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;tests/**/*.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;tests/**/*.tsx&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">	<span class="comment">/* 防止import引入的模块的解析 */</span></span><br><span class="line">  <span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;node_modules&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <div>      <div>
    
        <div style="margin-top:30px;padding-top:20px;border-top: 1px dashed #b3a9a7;text-align:center;color: #ccc;font-size:20px;">本文结束&nbsp;<i class="fa fa-paw"></i>&nbsp;感谢您的阅读</div>
    
</div>  </div>
        

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>Wang Ting
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <!-- <a href="https://wtlumos.github.io/zh-CN/2019/10/07/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="TypeScript学习笔记">https://wtlumos.github.io/zh-CN/2019/10/07/TypeScript学习笔记/</a> -->
    
       <a href ="/zh-CN/2019/10/07/TypeScript学习笔记/" >/zh-CN/2019/10/07/TypeScript学习笔记/</a>
  </li>
       <li>
          <strong>发布时间：</strong>
          2019-10-07 14:58
      </li>
      <li>
          <strong>更新时间：</strong>
          2023-04-15 16:19

      </li>
  
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/js/" rel="tag"><i class="fa fa-tag"></i> js</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/zh-CN/2019/10/07/SpringBoot/" rel="prev" title="SpringBoot">
      <i class="fa fa-chevron-left"></i> SpringBoot
    </a></div>
      <div class="post-nav-item">
    <a href="/zh-CN/2019/10/06/%E5%9C%A8%E7%BA%BF%E6%95%99%E8%82%B2%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E5%8D%81%E5%85%AB%E6%94%AF%E4%BB%98%E5%AE%9E%E7%8E%B0/" rel="next" title="(十八)在线教育网站搭建一支付实现">
      (十八)在线教育网站搭建一支付实现 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E8%AE%A4%E7%9F%A5"><span class="nav-text">1. 基础认知</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript%E4%B8%80%E9%97%A8%E4%BC%98%E7%A7%80%E7%9A%84%E8%AF%AD%E8%A8%80"><span class="nav-text">1.1. JavaScript一门优秀的语言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript%E7%9A%84%E7%97%9B%E7%82%B9"><span class="nav-text">1.2. JavaScript的痛点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%B8%A6%E6%9D%A5%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-text">1.3. 类型带来的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E9%94%99%E8%AF%AF"><span class="nav-text">1.4. 类型错误</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E6%80%9D%E7%BB%B4%E7%9A%84%E7%BC%BA%E5%A4%B1"><span class="nav-text">1.5. 类型思维的缺失</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript%E6%B7%BB%E5%8A%A0%E7%B1%BB%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="nav-text">1.6. JavaScript添加类型约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86TypeScript"><span class="nav-text">1.7. 认识TypeScript</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TypeScript%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-text">1.8. TypeScript的特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%97%E5%A4%9A%E9%A1%B9%E7%9B%AE%E9%87%87%E7%94%A8TypeScript"><span class="nav-text">1.9. 众多项目采用TypeScript</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%A7%E5%89%8D%E7%AB%AF%E7%9A%84%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF"><span class="nav-text">1.10. 大前端的发展趋势</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TypeScript%E9%85%8D%E7%BD%AE"><span class="nav-text">2. TypeScript配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#TypeScript%E7%9A%84%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83"><span class="nav-text">2.1. TypeScript的编译环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TypeScript%E7%9A%84%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-text">2.2. TypeScript的运行环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#webpack%E9%85%8D%E7%BD%AE"><span class="nav-text">2.3. webpack配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-text">2.3.1. 创建一个简单的项目目录结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8npm%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="nav-text">2.3.2. 使用npm管理项目的依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E4%BE%9D%E8%B5%96TypeScript"><span class="nav-text">2.3.3. 本地依赖TypeScript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96tsconfig-json%E6%96%87%E4%BB%B6"><span class="nav-text">2.3.4. 初始化tsconfig.json文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8package-json%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">2.3.5. 在package.json中添加启动命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0webpack%E4%BE%9D%E8%B5%96"><span class="nav-text">2.3.6. 添加webpack依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEwebpack-config-js"><span class="nav-text">2.3.7. 配置webpack.config.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%93%E5%8C%85%E9%A1%B9%E7%9B%AE"><span class="nav-text">2.3.8. 打包项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE"><span class="nav-text">2.3.9. 运行项目</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8ts-node"><span class="nav-text">2.4. 使用ts-node</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-text">3. 变量</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="nav-text">3.1. 变量的声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">3.2. 声明变量的关键字</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScript%E5%92%8CTypeScript%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">4. JavaScript和TypeScript的数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">4.1. JavaScript数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#number"><span class="nav-text">4.1.1. number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#boolean"><span class="nav-text">4.1.2. boolean</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#string"><span class="nav-text">4.1.3. string</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Array"><span class="nav-text">4.1.4. Array</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Object"><span class="nav-text">4.1.5. Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Symbol"><span class="nav-text">4.1.6. Symbol</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#null%E5%92%8Cundefined"><span class="nav-text">4.1.7. null和undefined</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TypeScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">4.2. TypeScript数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#any"><span class="nav-text">4.2.1. any</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#unknown"><span class="nav-text">4.2.2. unknown</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#void"><span class="nav-text">4.2.3. void</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#never"><span class="nav-text">4.2.4. never</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tuple"><span class="nav-text">4.2.5. tuple</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Tuple%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">5. Tuple的应用场景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-text">6. 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="nav-text">6.1. 参数类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E9%80%89%E7%B1%BB%E5%9E%8B"><span class="nav-text">6.1.1. 可选类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="nav-text">6.1.2. 默认参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0"><span class="nav-text">6.1.3. 剩余参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="nav-text">6.2. 返回值类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-text">6.3. 匿名函数的参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><span class="nav-text">6.4. 对象类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="nav-text">6.5. 联合类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="nav-text">6.6. 类型别名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80-as"><span class="nav-text">6.7. 类型断言 as</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E7%A9%BA%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="nav-text">6.8. 非空类型断言!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TypeScript%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="nav-text">6.9. TypeScript函数类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E9%80%89%E9%93%BE%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">6.10. 可选链的使用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%92%8C-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-text">7. ??和!!的作用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-text">7.1. !!操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6-1"><span class="nav-text">7.2. ??操作符</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="nav-text">8. 字面量</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="nav-text">8.1. 字面量类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E6%8E%A8%E7%90%86"><span class="nav-text">8.2. 字面量推理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="nav-text">8.3. 字面量赋值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E7%BC%A9%E5%B0%8F"><span class="nav-text">9. 类型缩小</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#typeof"><span class="nav-text">9.1. typeof</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B9%B3%E7%AD%89%E7%BC%A9%E5%B0%8F"><span class="nav-text">9.2. 平等缩小</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#instanceof"><span class="nav-text">9.3. instanceof</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#in"><span class="nav-text">9.4. in</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#this"><span class="nav-text">10. this</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E6%8E%A8%E5%AF%BC%E7%9A%84this%E7%B1%BB%E5%9E%8B"><span class="nav-text">10.1. 可推导的this类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E7%A1%AE%E5%AE%9A%E7%9A%84this%E7%B1%BB%E5%9E%8B"><span class="nav-text">10.2. 不确定的this类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E5%AE%9Athis%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-text">10.3. 指定this的类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%87%8D%E8%BD%BD"><span class="nav-text">11. 重载</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E9%87%8D%E8%BD%BD"><span class="nav-text">11.1. 函数的重载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%E5%92%8C%E9%87%8D%E8%BD%BD"><span class="nav-text">11.2. 联合类型和重载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="nav-text">11.3. 类的继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E6%80%81"><span class="nav-text">11.4. 多态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-text">11.5. 类的成员修饰符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7readonly"><span class="nav-text">11.6. 只读属性readonly</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#getters-x2F-setters"><span class="nav-text">11.7. getters&#x2F;setters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="nav-text">11.8. 静态成员</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-text">11.9. 类的类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BBabstract"><span class="nav-text">12. 抽象类abstract</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-text">13. 接口</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="nav-text">13.1. 接口的声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E9%80%89%E5%B1%9E%E6%80%A7"><span class="nav-text">13.2. 可选属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7"><span class="nav-text">13.3. 只读属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B"><span class="nav-text">13.4. 索引类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="nav-text">13.5. 函数类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E7%BB%A7%E6%89%BF"><span class="nav-text">13.6. 接口继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="nav-text">13.7. 接口的实现</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B"><span class="nav-text">14. 交叉类型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="nav-text">15. 枚举类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E7%94%A8"><span class="nav-text">15.1. 应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%80%BC"><span class="nav-text">15.2. 枚举类型的值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B"><span class="nav-text">16. 泛型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E5%AE%9E%E7%8E%B0%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E5%8C%96"><span class="nav-text">16.1. 泛型实现类型参数化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%A1%A5%E5%85%85"><span class="nav-text">16.2. 泛型的基本补充</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="nav-text">16.3. 泛型接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="nav-text">16.4. 泛型类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="nav-text">16.5. 泛型约束</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91"><span class="nav-text">17. 模块化开发</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="nav-text">17.1. 模块化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4namespace"><span class="nav-text">17.2. 命名空间namespace</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="nav-text">18. 类型的查找</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="nav-text">18.1. 内置类型声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="nav-text">18.2. 外部定义类型声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%A3%B0%E6%98%8E"><span class="nav-text">18.3. 自定义声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F-%E5%87%BD%E6%95%B0-%E7%B1%BB"><span class="nav-text">18.4. 声明变量-函数-类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E6%A8%A1%E5%9D%97"><span class="nav-text">18.5. 声明模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#declare%E6%96%87%E4%BB%B6"><span class="nav-text">18.6. declare文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#declare%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-text">18.7. declare命名空间</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#tsconfig-json%E6%96%87%E4%BB%B6"><span class="nav-text">19. tsconfig.json文件</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Wang Ting"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Wang Ting</p>
  <div class="site-description" itemprop="description">技术成长笔记</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">381</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/WTlumos" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;WTlumos" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/7807823198" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;7807823198" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-glasses fa-fw"></i>
      最近阅读
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/video/av77638697/" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av77638697&#x2F;" rel="noopener" target="_blank">浙江大学-研究生机器学习课程</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wang Ting</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span>网站总字数: </span>
    <span title="站点总字数">2.9m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
        <span>阅读总时长: </span>
    <span title="站点阅读时长">44:22</span>
</div>

<span id="sitetime"></span>

<script language=javascript>
  function siteTime(){
    window.setTimeout("siteTime()", 1000);
    var seconds = 1000;
    var minutes = seconds * 60;
    var hours = minutes * 60;
    var days = hours * 24;
    var years = days * 365;
    var today = new Date();
    var todayYear = today.getFullYear();
    var todayMonth = today.getMonth()+1;
    var todayDate = today.getDate();
    var todayHour = today.getHours();
    var todayMinute = today.getMinutes();
    var todaySecond = today.getSeconds();
    /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
    year - 作为date对象的年份，为4位年份值
    month - 0-11之间的整数，做为date对象的月份
    day - 1-31之间的整数，做为date对象的天数
    hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
    minutes - 0-59之间的整数，做为date对象的分钟数
    seconds - 0-59之间的整数，做为date对象的秒数
    microseconds - 0-999之间的整数，做为date对象的毫秒数 */
    var t1 = Date.UTC(2018,07,01,00,00,00); //北京时间2018-07-01 00:00:00
    var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
    var diff = t2-t1;
    var diffYears = Math.floor(diff/years);
    var diffDays = Math.floor((diff/days)-diffYears*365);
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);

    if(window.location.pathname=='/en/'){
           document.getElementById("sitetime").innerHTML=" Run for "+ diffYears+" Year "+ diffDays+" Days "+diffHours+" Hours "+diffMinutes+" Minute "+diffSeconds+" Second";
    }else{
          document.getElementById("sitetime").innerHTML=" 已运行 "+ diffYears+" 年 "+ diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
    }

  }
  siteTime();
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>




  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'fb5f16fdf7649a9e5208',
      clientSecret: 'bcd95c87cdbab8fa32fc1b006fbb1ce7e8ffae5b',
      repo        : 'wtlumos.github.io',
      owner       : 'WTlumos',
      admin       : ['WTlumos'],
      id          : '827af88db4f57d071a9a31da444bbc8f',
        language: '',
      distractionFreeMode: false
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":125,"height":290,"hOffset":-15,"vOffset":-40},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.7},"dialog":{"enable":false,"hitokoto":false},"log":false});</script></body>
</html>
